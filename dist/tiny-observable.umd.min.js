/*!
 2023 Jason Mulligan <jason.mulligan@avoidwork.com>
 @version 2.0.2
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).observable={})}(this,(function(e){"use strict";const t=()=>{},r="Invalid arguments",s="undefined"!=typeof crypto?crypto.randomUUID.bind(crypto):()=>`observable-${Math.random().toString(36).slice(2,9)}`;class i{constructor(e=10){this.limit=e,this.listeners=new Map,this.hooks=new WeakMap}addListener(e="",r=t,s=this.id(),i=this){return this.on(e,r,s,i)}dispatch(e="",...t){if(0===e.length)throw new TypeError(r);return this.listeners.get(e)?.forEach((e=>e.handler.apply(e.scope,t))),this}emit(e="",...t){return this.dispatch(e,...t)}eventNames(){return Array.from(this.listeners.keys())}getMaxListeners(){return this.limit}hook(e=null,t=""){if(null===e||0===t.length)throw new TypeError(r);for(const r of Array.isArray(e)?e:[e])!1===this.hooks.has(r)&&this.hooks.set(r,new Map),!1===this.hooks.get(r).has(t)&&this.hooks.get(r).set(t,(e=>this.dispatch(t,e))),r?.addEventListener(t,this.hooks.get(r).get(t),!1);return this}id(){return s()}listenerCount(e=""){if(0===e.length)throw new TypeError(r);return this.listeners.get(e)?.size??0}off(e="",t=""){if(0===e.length)throw new TypeError(r);return 0===t.length?this.listeners.get(e)?.clear():t.length>0&&this.listeners.get(e)?.delete(t),this}on(e="",s=t,i=this.id(),n=this){if(0===e.length)throw new TypeError(r);if(!1===this.listeners.has(e)&&this.listeners.set(e,new Map),this.listeners.get(e).size>=this.limit)throw new Error("`Possible memory leak, more than {{LIMIT}} listeners for event: {{EVENT}}".replace("{{EVENT}}",e).replace("{{LIMIT}}",this.limit));return this.listeners.get(e).set(i,{scope:n,handler:s}),this}once(e="",r=t,s=this.id(),i=this){return this.on(e,((...t)=>{r.apply(i,t),this.off(e,s)}),s,i)}rawListeners(e=""){if(0===e.length)throw new TypeError(r);return Array.from(this.listeners.get(e)?.values()??[]).map((e=>e.handler))}removeAllListeners(e=""){return this.off(e)}removeListener(e="",t=""){return this.off(e,t)}setMaxListeners(e=10){if(isNaN(e))throw new TypeError(r);return this.limit=e,this}unhook(e=null,t=""){if(null===e)throw new TypeError(r);for(const r of Array.isArray(e)?e:[e])this.hooks.has(r)&&(t.length>0&&this.hooks.get(r).has(t)?(r?.removeEventListener(t,this.hooks.get(r).get(t),!1),this.hooks.get(r)?.delete(t)):(this.hooks.get(r).forEach(((e,t)=>r?.removeEventListener(t,e,!1))),this.hooks.delete(r)));return this}}e.Observable=i,e.observable=function(e=10,t=crypto.randomUUID){return new i(e,t)}}));//# sourceMappingURL=tiny-observable.umd.min.js.map
